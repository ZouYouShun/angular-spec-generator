#!/usr/bin/env node
(function(){var e=null;var r={require:{factory:undefined,dependencies:[],exports:function(e,r){return require(e,r)},resolved:true}};function t(t,n,i){return e=r[t]={dependencies:n,factory:i,exports:{},resolved:false}}function n(e){if(e.resolved===true)return;e.resolved=true;var t=e.dependencies.map(function(t){return t==="exports"?e.exports:function(){if(r[t]!==undefined){n(r[t]);return r[t].exports}else{try{return require(t)}catch(e){throw Error("module '"+t+"' not found.")}}}()});e.factory.apply(null,t)}function i(){Object.keys(r).map(function(e){return r[e]}).forEach(n);return e!==null?e.exports:undefined}var o=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(i,o){function u(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n["throw"](e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new t(function(r){r(e.value)}).then(u,a)}c((n=n.apply(e,r||[])).next())})};var u=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(e){return function(r){return c([e,r])}}function c(u){if(n)throw new TypeError("Generator is already executing.");while(t)try{if(n=1,i&&(o=i[u[0]&2?"return":u[0]?"throw":"next"])&&!(o=o.call(i,u[1])).done)return o;if(i=0,o)u=[0,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:t.label++;return{value:u[1],done:false};case 5:t.label++;i=u[1];u=[0];continue;case 7:u=t.ops.pop();t.trys.pop();continue;default:if(!(o=t.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1];o=u;break}if(o&&t.label<o[2]){t.label=o[2];t.ops.push(u);break}if(o[2])t.ops.pop();t.trys.pop();continue}u=r.call(e,t)}catch(e){u=[6,e];i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};t("createSpec",["require","exports","fs","path","string-template"],function(e,r,t,n,i){"use strict";r.__esModule=true;var o=e("chalk");r.createSpec=function(e){e.forEach(function(e){var r=n.join(e.dir,e.name+".spec.ts");if(!t.existsSync(r)){var c=t.readFileSync(n.join(__dirname,"template/"+e.type+".template")).toString();var s=e.name.replace("."+e.type,"");var l=i(c,{bigName:a(s),name:s});u(r,l);console.log(o.green("create ")+r)}})};function u(e,r){var n=t.createWriteStream(e);n.write(r);n.end()}function a(e){e=" "+e;e=c(e);return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,r){if(+e===0)return"";return r===0?e.toLowerCase():e.toUpperCase()})}function c(e){var r=new RegExp(/[.\-_]/);var t="";for(var n=0;n<e.length;n++){t=t+e.substr(n,1).replace(r," ")}return t}});t("index",["require","exports","fs","path","createSpec"],function(e,r,t,n,i){"use strict";r.__esModule=true;var a=e("chalk");var c=function(){function e(){this.app()}e.prototype.app=function(){return o(this,void 0,void 0,function(){var e,r;return u(this,function(t){try{e=this.getSource();console.log(a.green("from Url:  "+e));r=this.getSholudSpec(this.getFileTree(e));i.createSpec(r);console.log(a.green("completed!"))}catch(e){console.log(a.red(e))}return[2]})})};e.prototype.getSource=function(){var e=process.argv.slice(2);return e[0]};e.prototype.getFileTree=function(e){var r=this;var i=[];var o=t.readdirSync(e);o.forEach(function(o){var u=n.join(e,o);if(t.lstatSync(u).isDirectory()){i.push.apply(i,r.getFileTree(u))}i.push(u)});return i};e.prototype.getSholudSpec=function(e){var r=[];e.forEach(function(e){var t=n.parse(e);if(t.ext===".ts"&&!e.includes(".spec")){if(e.includes("guard")){r.push({type:"guard",name:t.name,dir:t.dir,url:e})}else if(e.includes("component")){r.push({type:"component",name:t.name,dir:t.dir,url:e})}else if(e.includes("service")){r.push({type:"service",name:t.name,dir:t.dir,url:e})}else if(e.includes("directive")){r.push({type:"directive",name:t.name,dir:t.dir,url:e})}else if(e.includes("pipe")){r.push({type:"pipe",name:t.name,dir:t.dir,url:e})}}});return r};return e}();r.App=c;module.exports=new c});return i()})();